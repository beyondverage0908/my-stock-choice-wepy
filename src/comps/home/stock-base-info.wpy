<style lang="less" scoped>
	@main-blue-color: rgb(131, 177, 229);
	@main-gray-color: rgb(134, 134, 134);
	.info {
		flex: 5;
		box-sizing: border-box;
		padding-left: 40rpx;
		.name {
			font-size: 60rpx;
			color: @main-blue-color;
			margin: 10rpx 0 15rpx;
		}
		.code {
			font-size: 30rpx;
			color: @main-gray-color;
		}
		.rank {
			color: @main-blue-color;
			margin: 15rpx 0;
			.arrow {
				padding-left: 10rpx;
			}
		}
		.tag-list {
			display: flex;
			justify-content: flex-start;
			margin: 40rpx 0;
			.tag {
				display: inline-block;
				background-color: rgb(238, 238, 238);
				padding: 10rpx 15rpx;
				font-size: 21rpx;
				border-radius: 5rpx;
				color: rgb(193, 193, 193);
				margin: 0 10rpx;
			}
		}
	}
</style>

<template>
	<div class="info">
		<div class="name">{{stock.zqjc}}</div>
		<div class="code">{{stock.zqdm}}</div>
		<div class="rank" @tap="onHandleRank">排行榜<span class="arrow">></span></div>
		<div class="tag-list">
			<span class="tag" v-for="tag in stock.sections">{{tag}}</span>
		</div>
		<i-modal title="排行提示" visible="{{ modalVisible }}" @ok="handleCloseOk" ok-text="我知道了" :show-cancel="false">
			<div>排行信息仅供参考，具体的操作请谨慎操作。投资有风险，入市需谨慎</div>
		</i-modal>
	</div>
</template>

<script>
import wepy from '@wepy/core';
import { mapMutations } from '@wepy/x';
import store from '@/store';
wepy.component({
	store,
	props: {
		stock: {
			type: Object,
			default: null
		}
	},
	data() {
		return {
			modalVisible: false
		}
	},
	methods: {
		...mapMutations(['changeHomeChartVisible']),
		onHandleRank() {
			this.modalVisible = true;
			this.changeHomeChartVisible(false);
		},
		handleCloseOk() {
			this.modalVisible = false;
			this.changeHomeChartVisible(true);
		}
	}
});
</script>
<config>
{
    usingComponents: {
		"i-modal": "~@/iview/dist/modal/index"
    }
}
</config>
